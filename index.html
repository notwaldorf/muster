<html>
<head>
  <title>patterns!!!</title>

  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta charset="utf-8">

  <script src="bower_components/d3/d3.min.js"></script>
  <script src="bower_components/textures/textures.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Amatic+SC:400,700">
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
  <div class="container">
    <h1>Patterns! </h1>
    <div class="playground">
      <input id="input1" type="range" value="0" step="1" max="10" orient="vertical">
      <div id="example"></div>
      <input id="input2" type="range" value="0" step="1" max="10" orient="vertical">
    </div>
  </div>
</body>
<script>
  var strokeColor = "darkorange";

  var w = 600, h = 300;
  var svg;
  var circle1, circle2;
  var textures;

  svg = createSVG();
  circle1 = createCircle(0);
  circle2 = createCircle(1);

  textures = createTextures();
  input1.max = input2.max = textures.length - 1;


  fillWithTexture(circle1, 1);
  input1.value = 1;
  fillWithTexture(circle2, 0);


  input1.addEventListener('input', function(){
    fillWithTexture(circle1, input1.value);
    window.location.hash = 'bottom=' + input1.value + '&top=' + input2.value;
  });
  input2.addEventListener('input', function(){
    fillWithTexture(circle2, input2.value);
    window.location.hash = 'bottom=' + input1.value + '&top=' + input2.value;
  });


  function fillWithTexture(c, t) {
    svg.call(textures[t]);
    c.style.fill = textures[t].url();
  }

  function createSVG() {
    var svg = d3.select("#example")
        .append("svg")
        .attr("width",w)
        .attr("height", h);
    return svg;
  }

  function createCircle(i) {
    // Create the shape
    var circle = svg.append("circle")
      .attr({
          "cx": 200 + 50 * i,
          "cy": h/2,
          "r": 140,
          id: 'circle' + i
      })
      .style({
          "fill": "white", // we'll fill with the texture later
          "stroke": strokeColor,
          "stroke-width": 2
      });
    return document.getElementById('circle' + i);
  }

  function createTextures() {
    var empty = textures.lines().size(0).strokeWidth(0);

    var vertical = textures.lines()
        .orientation("vertical")
        .stroke(strokeColor)   // .heavier .lighter
        .size(10)               // 1 is the smallest
        .strokeWidth(1)         // 2 is .thicker. can also have .thinner
        .shapeRendering("crispEdges");

    var horizontal = textures.lines()
        .orientation("horizontal")
        .stroke(strokeColor)   // .heavier .lighter
        .size(10)               // 1 is the smallest
        .strokeWidth(1)         // 2 is .thicker. can also have .thinner
        .shapeRendering("crispEdges");

    var diagonal = textures.lines()
        .orientation("diagonal")
        .stroke(strokeColor)   // .heavier .lighter
        .size(10)               // 1 is the smallest
        .strokeWidth(1)         // 2 is .thicker. can also have .thinner
        .shapeRendering("crispEdges");

    var grid = textures.lines()
      .orientation("vertical", "horizontal")
      .size(10)
      .strokeWidth(1)
      .shapeRendering("crispEdges")
      .stroke(strokeColor);

    var grid2 = textures.lines()
      .orientation("vertical", "horizontal")
      .size(10)
      .strokeWidth(1)
      .shapeRendering("crispEdges")
      .stroke("white")
      .background(strokeColor);

    var diagonalGrid = textures.lines()
      .orientation("2/8", "6/8")
      .size(10)
      .strokeWidth(1)
      .shapeRendering("crispEdges")
      .stroke(strokeColor);

    var diagonalGrid2 = textures.lines()
      .orientation("2/8", "6/8")
      .size(10)
      .strokeWidth(1)
      .stroke("white")
      .shapeRendering("crispEdges")
      .background(strokeColor);

    var dots = textures
      .circles()
      .thicker()
      .fill(strokeColor)
      .stroke(strokeColor);

    var dots1 = textures
      .circles()
      .complement()
      .fill(strokeColor)
      .stroke(strokeColor);

    var dots2 = textures
      .circles()
      .fill(strokeColor)
      .stroke(strokeColor)
      .size(6);

    var dots21 = textures
      .circles()
      .fill(strokeColor)
      .stroke(strokeColor)
      .complement()
      .size(8);

    var dots3 = textures.circles()
    .radius(4)
    .fill("transparent")
    .strokeWidth(2)
    .stroke(strokeColor);

    var dots33 = textures.circles()
      .radius(4)
      .complement()
      .fill("transparent")
      .strokeWidth(2)
      .stroke(strokeColor);

    var dots4 = textures.circles()
      .radius(4)
      .fill(strokeColor)
      .strokeWidth(2)
      .stroke("white");

    var dots44 = textures.circles()
      .radius(4)
      .fill(strokeColor)
      .strokeWidth(2)
      .stroke("white")
      .complement();

    var dots5 = textures.circles()
      .radius(4)
      .fill(strokeColor)
      .strokeWidth(2)
      .stroke("white")
      .background(strokeColor);

    var dots6 = textures.circles()
      .radius(4)
      .fill(strokeColor)
      .strokeWidth(2)
      .stroke("white")
      .complement()
      .background(strokeColor);

    var hexes = textures.paths()
      .d("hexagons")
      .size(8)
      .strokeWidth(2)
      .stroke(strokeColor);

    var exes = textures.paths()
      .d("crosses")
      .lighter()
      .thicker()
      .stroke(strokeColor);

    var exes2 = textures.paths()
      .d("crosses")
      .lighter()
      .thicker()
      .background(strokeColor)
      .stroke("white");

    var woven = textures.paths()
      .d("woven")
      .lighter()
      .thicker()
      .stroke(strokeColor);

    var waves = textures.paths()
      .d("waves")
      .thicker()
      .stroke(strokeColor);

    var squares = textures.paths()
      .d("squares")
      .stroke(strokeColor);

    return [empty,
        horizontal, vertical, grid, grid2, diagonal, diagonalGrid, diagonalGrid2,
        dots, dots1, dots2, dots21, dots3, dots33, dots4, dots44, dots5, dots6,
        hexes, exes, exes2, woven, waves, squares];
  }
</script>
</html>
